<div class="flex justify-center pt-12 bg-white min-h-[calc(100vh-80px)]">

  <div class="w-full max-w-5xl px-4 pb-12">

    <!-- Header -->
    <div class="text-center mb-8">
      <h1 class="text-4xl font-sans text-base-900 mb-2">Welcome to Cuber!</h1>
      <p class="text-gray-700">
        Already have an account?
        <a routerLink="/login" class="text-base-600 font-medium no-underline hover:underline">
          Log back in here
        </a>!
      </p>
    </div>

    <!-- Form -->
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="font-sans">

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">

        <!-- Column 1: Personal Info -->
        <div class="flex flex-col">

          <label class="block text-base-800 mb-2 text-sm">Enter your first name:</label>
          <div class="relative w-full mb-4">
            <ng-icon name="heroUser" class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"></ng-icon>
            <input
              type="text"
              formControlName="firstName"
              placeholder="First name"
              class="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00acc1] focus:border-transparent">
          </div>

          <label class="block text-base-800 mb-2 text-sm">Enter your last name:</label>
          <div class="relative w-full mb-4">
            <ng-icon name="heroUser" class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"></ng-icon>
            <input
              type="text"
              formControlName="lastName"
              placeholder="Last name"
              class="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00acc1] focus:border-transparent">
          </div>

          <label class="block text-base-800 mb-2 text-sm">Enter your phone number:</label>
          <div class="relative w-full mb-4">
            <ng-icon name="heroPhone" class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"></ng-icon>
            <input
              type="tel"
              formControlName="phone"
              placeholder="Phone Number"
              class="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00acc1] focus:border-transparent">
          </div>

          <label class="block text-base-800 mb-2 text-sm">Enter your home address:</label>
          <div class="relative w-full mb-4">
            <ng-icon name="heroHome" class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"></ng-icon>
            <input
              type="text"
              formControlName="address"
              placeholder="Home address"
              class="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00acc1] focus:border-transparent">
          </div>

        </div>

        <!-- Column 2: Account Info -->
        <div class="flex flex-col">

          <label class="block text-base-800 mb-2 text-sm">Enter your email address:</label>
          <div class="relative w-full mb-4">
            <ng-icon name="heroEnvelope" class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"></ng-icon>
            <input
              type="email"
              formControlName="email"
              placeholder="john@example.com"
              class="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00acc1] focus:border-transparent">
          </div>

          <label class="block text-base-800 mb-2 text-sm">Enter your password:</label>
          <div class="relative w-full mb-4">
            <ng-icon name="heroLockClosed" class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"></ng-icon>
            <input
              [type]="hidePassword ? 'password' : 'text'"
              formControlName="password"
              placeholder="Your password"
              class="w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00acc1] focus:border-transparent">
            <ng-icon
              [name]="hidePassword ? 'heroEyeSlash' : 'heroEye'"
              (click)="hidePassword = !hidePassword"
              class="absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 hover:text-gray-600 cursor-pointer">
            </ng-icon>
          </div>

          <label class="block text-base-800 mb-2 text-sm">Repeat your password:</label>
          <div class="relative w-full mb-4">
            <ng-icon name="heroLockClosed" class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"></ng-icon>
            <input
              [type]="hideRepeatPassword ? 'password' : 'text'"
              formControlName="repeatPassword"
              placeholder="Your password again"
              class="w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00acc1] focus:border-transparent">
            <ng-icon
              [name]="hideRepeatPassword ? 'heroEyeSlash' : 'heroEye'"
              (click)="hideRepeatPassword = !hideRepeatPassword"
              class="absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 hover:text-gray-600 cursor-pointer">
            </ng-icon>
          </div>

        </div>

        <!-- Column 3: Profile Picture -->
        <div class="flex flex-col items-center md:order-last order-first">

          <label class="block text-base-800 mb-2 text-sm text-center w-full">Profile picture (optional)</label>

          <div class="w-40 h-40 bg-gray-200 rounded-full flex justify-center items-center mb-6 overflow-hidden">
            @if (imgPreview) {
              <img [src]="imgPreview" alt="Profile Preview" class="w-full h-full object-cover">
            } @else {
              <ng-icon name="heroUser" class="w-20 h-20 text-gray-400"></ng-icon>
            }
          </div>

          <input
            type="file"
            #fileInput
            (change)="onFileSelected($event)"
            hidden
            accept=".jpg,.png">

          <button
            type="button"
            (click)="fileInput.click()"
            class="w-full bg-[#00838f] hover:bg-[#006d77] text-white py-3 px-4 rounded-lg font-medium transition flex items-center justify-center gap-2 mb-2">
            <ng-icon name="heroArrowUpTray" class="w-5 h-5"></ng-icon>
            Upload a picture
          </button>

          <small class="text-xs text-gray-500 text-center">Picture must be in .jpg or .png format</small>

          @if (selectedFileName) {
            <p class="mt-2 font-semibold text-base-800 text-sm">{{ selectedFileName }}</p>
          }

        </div>

      </div>

      <!-- Submit Button -->
      <div class="flex justify-center mt-12">
        <button
          type="submit"
          class="w-full h-12 max-w-md bg-base-600 hover:bg-base-700 text-white py-4 rounded-lg text-lg font-medium transition flex items-center justify-center gap-2">
          Submit
          <ng-icon name="heroArrowRight" class="w-5 h-5"></ng-icon>
        </button>
      </div>

    </form>

  </div>

</div>
